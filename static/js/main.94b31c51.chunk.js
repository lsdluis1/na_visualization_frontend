(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{48:function(t,e,n){},54:function(t,e,n){},56:function(t,e,n){},62:function(t,e,n){},93:function(t,e,n){"use strict";n.r(e);var i=n(0),c=n.n(i),o=n(17),a=n.n(o),r=(n(48),n(8)),u=n(42),s=(n(54),n(1));function l(t){var e=Object(i.useRef)(),n=Object(i.useRef)();return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("input",{ref:n,name:t.name,className:"toggle-checkbox",type:"checkbox",defaultChecked:t.value,value:t.value||!1}),Object(s.jsx)("span",{ref:e,onClick:function(){t.onChange&&t.onChange(n.current.checked),e.current.classList.toggle("toggled"),n.current.checked=!n.current.checked,t.onToggle&&t.onToggle(n.current.checked)},className:t.checked?"toggled toggle-switch":"toggle-switch",children:Object(s.jsx)("span",{className:"toggle"})})]})}n(56);var f=function(t,e,n){var i=n.color,c=void 0===i?"black":i,o=n.width,a=void 0===o?1:o;e.sort((function(t,e){return t.x>e.x?1:t.x<e.x?-1:t.y>e.y?1:t.y<e.y?-1:void 0})),e.length>1&&(t.beginPath(),e.map((function(n,i){if(!(i>=e.length-1)){var c=e[i+1];t.moveTo(n.x,n.y),t.lineTo(c.x,c.y)}})),t.strokeStyle=c,t.lineWidth=a,t.stroke())},d=n(40),h=n.n(d),j=n(13),b=n.n(j);function p(t){var e=Object(i.useMemo)((function(){return t.point.position}),[]),n=Object(i.useMemo)((function(){return t.animationFrameCount}),[]),c=Object(i.useRef)(),o=Object(i.useState)({x:0,y:0,deltaX:0,deltaY:0,lastX:0,lastY:0}),a=Object(r.a)(o,2),u=a[0],l=a[1],f=function(){var n=t.point.key,i=b.a.isUndefined(c.current)?{x:0,y:0}:c.current,o={key:n,position:{x:e.x+i.x+u.x,y:e.y+i.y+u.y}};t.handleDrag(o)},d=t.animated,j=t.animation,p=t.animationFrameCount;Object(i.useEffect)((function(){d&&(c.current=j(p-n),f())}),[p]);var g=t.pointStyle,v=g.pointSize,y=g.color,O=b.a.isUndefined(c.current)?{x:0,y:0}:c.current;return Object(s.jsx)(h.a,{onDrag:function(t,e){l(e),f()},children:Object(s.jsx)("div",{className:"drag-wrapper",style:{position:"absolute",left:e.x+O.x-v,top:e.y+O.y-v,width:2*v,height:2*v,borderRadius:"100%",background:y}})})}var g=n(43);n(62);var v=function(t){var e=Object(i.useRef)(null),n=t.draw,c=t.pathPoints,o=t.points,a=t.pointStyle,r=t.lineStyle,u=t.canvasStyle;return Object(i.useEffect)((function(){var t=e.current.getContext("2d");t.clearRect(0,0,t.canvas.width,t.canvas.height),n(t,c,r),o.map((function(e){!function(t,e,n,i){var c=i.color,o=void 0===c?"#ff2626":c,a=i.pointSize,r=void 0===a?10:a;t.beginPath(),t.fillStyle=o,t.arc(e,n,r,0,2*Math.PI),t.fill()}(t,e.x,e.y,a)}))}),[o,c]),Object(s.jsx)("canvas",Object(g.a)({ref:e,width:u.width,height:u.height},t))},y=n(41),O=n.n(y);var x=[];function m(t){var e=Object(i.useState)([]),n=Object(r.a)(e,2),c=n[0],o=n[1],a=Object(i.useState)([]),u=Object(r.a)(a,2),l=u[0],d=u[1],h=Object(i.useRef)(null);Object(i.useEffect)((function(){h.current=O.a.connect("http://localhost:5000"),h.current.on("path points",(function(t){return d(t.map((function(t){return{x:t[0],y:t[1]}})))}));var t=setInterval((function(){o([].concat(x))}),1e3/60);return function(){h.current.disconnect(),clearInterval(t)}}),[]),Object(i.useEffect)((function(){var t=c.map((function(t){return[t.position.x,t.position.y]}));h.current.emit("pivotal points",t)}),[c]);var j=Object(i.useRef)();j.current=function(t){var e=b.a.findIndex(x,(function(e){return e.key===t.key}));x[e]=t};var g=Object(i.useState)(0),y=Object(r.a)(g,2),m=y[0],S=y[1],k=t.animated,w=t.animation,C=t.lineWidth,I=t.pointSize;return Object(i.useEffect)((function(){var t=setInterval((function(){k&&S((function(t){return t+1}))}),1e3/60);return function(){clearInterval(t)}}),[k]),Object(s.jsxs)("div",{style:{position:"absolute",height:"100%",width:"100%",background:"skyblue"},onDoubleClick:function(){var e=Math.random().toString(36),n=t.position;x.length<100&&x.push({position:n,key:e})},children:[c.map((function(t){return Object(s.jsx)(p,{animated:k,animation:w,animationFrameCount:m,handleDrag:j.current,point:t,pointStyle:{pointSize:10,color:"yellow"}})})),Object(s.jsx)(v,{draw:f,pathPoints:l,points:c,lineStyle:{color:"black",width:C},pointStyle:{color:"red",pointSize:I},canvasStyle:{width:1600,height:1e3}}),Object(s.jsx)("p",{children:JSON.stringify(t)}),Object(s.jsx)("p",{children:JSON.stringify(c)})]})}function S(){var t=Object(i.useState)(!1),e=Object(r.a)(t,2),n=e[0],c=e[1];return Object(s.jsxs)("div",{children:[Object(s.jsx)(l,{onToggle:c}),Object(s.jsx)(u.a,{style:{position:"absolute"},children:Object(s.jsx)(m,{style:{pointSize:10,lineWidth:5},animated:n,animation:function(t){return{x:100*Math.cos(t%60*(Math.PI/30)),y:100*Math.sin(t%60*(Math.PI/30))}}})})]})}var k=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,94)).then((function(e){var n=e.getCLS,i=e.getFID,c=e.getFCP,o=e.getLCP,a=e.getTTFB;n(t),i(t),c(t),o(t),a(t)}))};a.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(S,{})}),document.getElementById("root")),k()}},[[93,1,2]]]);
//# sourceMappingURL=main.94b31c51.chunk.js.map