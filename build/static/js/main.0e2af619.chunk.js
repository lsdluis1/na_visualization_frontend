(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{53:function(t,e,n){},55:function(t,e,n){},61:function(t,e,n){},92:function(t,e,n){"use strict";n.r(e);var i=n(8),c=n(17),o=n.n(c),a=n(42),r=n(0),u=(n(53),n(1));function s(t){var e=Object(r.useRef)(),n=Object(r.useRef)();return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("input",{ref:n,name:t.name,className:"toggle-checkbox",type:"checkbox",defaultChecked:t.value,value:t.value||!1}),Object(u.jsx)("span",{ref:e,onClick:function(){t.onChange&&t.onChange(n.current.checked),e.current.classList.toggle("toggled"),n.current.checked=!n.current.checked,t.onToggle&&t.onToggle(n.current.checked)},className:t.checked?"toggled toggle-switch":"toggle-switch",children:Object(u.jsx)("span",{className:"toggle"})})]})}n(55);var l=function(t,e,n){var i=n.color,c=void 0===i?"black":i,o=n.width,a=void 0===o?1:o;e.sort((function(t,e){return t.x>e.x?1:t.x<e.x?-1:t.y>e.y?1:t.y<e.y?-1:void 0})),e.length>1&&(t.beginPath(),e.map((function(n,i){if(!(i>=e.length-1)){var c=e[i+1];t.moveTo(n.x,n.y),t.lineTo(c.x,c.y)}})),t.strokeStyle=c,t.lineWidth=a,t.stroke())},f=n(40),d=n.n(f),h=n(13),j=n.n(h);function b(t){var e=Object(r.useMemo)((function(){return t.point.position}),[]),n=Object(r.useMemo)((function(){return t.animationFrameCount}),[]),c=Object(r.useRef)(),o=Object(r.useState)({x:0,y:0,deltaX:0,deltaY:0,lastX:0,lastY:0}),a=Object(i.a)(o,2),s=a[0],l=a[1],f=function(){var n=t.point.key,i=j.a.isUndefined(c.current)?{x:0,y:0}:c.current,o={key:n,position:{x:e.x+i.x+s.x,y:e.y+i.y+s.y}};t.handleDrag(o)},h=t.animated,b=t.animation,p=t.animationFrameCount;Object(r.useEffect)((function(){h&&(c.current=b(p-n),f())}),[p]);var v=t.pointStyle,g=v.pointSize,y=v.color,O=j.a.isUndefined(c.current)?{x:0,y:0}:c.current;return Object(u.jsx)(d.a,{onDrag:function(t,e){l(e),f()},children:Object(u.jsx)("div",{className:"drag-wrapper",style:{position:"absolute",left:e.x+O.x-g,top:e.y+O.y-g,width:2*g,height:2*g,borderRadius:"100%",background:y}})})}var p=n(43);n(61);var v=function(t){var e=Object(r.useRef)(null),n=t.draw,i=t.pathPoints,c=t.points,o=t.pointStyle,a=t.lineStyle,s=t.canvasStyle;return Object(r.useEffect)((function(){var t=e.current.getContext("2d");t.clearRect(0,0,t.canvas.width,t.canvas.height),n(t,i,a),c.map((function(e){!function(t,e,n,i){var c=i.color,o=void 0===c?"#ff2626":c,a=i.pointSize,r=void 0===a?10:a;t.beginPath(),t.fillStyle=o,t.arc(e,n,r,0,2*Math.PI),t.fill()}(t,e.x,e.y,o)}))}),[c,i]),Object(u.jsx)("canvas",Object(p.a)({ref:e,width:s.width,height:s.height},t))},g=n(41),y=n.n(g);var O=[];function x(t){var e=Object(r.useState)([]),n=Object(i.a)(e,2),c=n[0],o=n[1],a=Object(r.useState)([]),s=Object(i.a)(a,2),f=s[0],d=s[1],h=Object(r.useRef)(null);Object(r.useEffect)((function(){h.current=y.a.connect("http://localhost:5000"),h.current.on("path points",(function(t){return d(t.map((function(t){return{x:t[0],y:t[1]}})))}));var t=setInterval((function(){o([].concat(O))}),1e3/60);return function(){h.current.disconnect(),clearInterval(t)}}),[]),Object(r.useEffect)((function(){var t=c.map((function(t){return[t.position.x,t.position.y]}));h.current.emit("pivotal points",t)}),[c]);var p=Object(r.useRef)();p.current=function(t){var e=j.a.findIndex(O,(function(e){return e.key===t.key}));O[e]=t};var g=Object(r.useState)(0),x=Object(i.a)(g,2),m=x[0],k=x[1],S=t.animated,w=t.animation,C=t.lineWidth,I=t.pointSize;return Object(r.useEffect)((function(){var t=setInterval((function(){S&&k((function(t){return t+1}))}),1e3/60);return function(){clearInterval(t)}}),[S]),Object(u.jsxs)("div",{style:{position:"absolute",height:"100%",width:"100%",background:"skyblue"},onDoubleClick:function(){var e=Math.random().toString(36),n=t.position;O.length<100&&O.push({position:n,key:e})},children:[c.map((function(t){return Object(u.jsx)(b,{animated:S,animation:w,animationFrameCount:m,handleDrag:p.current,point:t,pointStyle:{pointSize:10,color:"yellow"}})})),Object(u.jsx)(v,{draw:l,pathPoints:f,points:c,lineStyle:{color:"black",width:C},pointStyle:{color:"red",pointSize:I},canvasStyle:{width:1600,height:1e3}}),Object(u.jsx)("p",{children:JSON.stringify(t)}),Object(u.jsx)("p",{children:JSON.stringify(c)})]})}function m(){var t=Object(r.useState)(!1),e=Object(i.a)(t,2),n=e[0],c=e[1];return Object(u.jsxs)("div",{children:[Object(u.jsx)(s,{onToggle:c}),Object(u.jsx)(a.a,{style:{position:"absolute"},children:Object(u.jsx)(x,{style:{pointSize:10,lineWidth:5},animated:n,animation:function(t){return{x:100*Math.cos(t%60*(Math.PI/30)),y:100*Math.sin(t%60*(Math.PI/30))}}})})]})}var k=document.getElementById("root");o.a.render(Object(u.jsx)(m,{}),k)}},[[92,1,2]]]);
//# sourceMappingURL=main.0e2af619.chunk.js.map